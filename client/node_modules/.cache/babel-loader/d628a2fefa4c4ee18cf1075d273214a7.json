{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from 'react';\nimport RangeSlider from '@gilbarbara/react-range-slider';\nimport ClickOutside from './ClickOutside';\nimport VolumeHigh from './icons/VolumeHigh';\nimport VolumeLow from './icons/VolumeLow';\nimport VolumeMute from './icons/VolumeMute';\nimport { px, styled } from '../styles';\nvar Wrapper = styled('div')({\n  'pointer-events': 'all',\n  position: 'relative',\n  zIndex: 20,\n  '> div': {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: px(12),\n    position: 'absolute',\n    right: \"-\".concat(px(3))\n  },\n  '> button': {\n    fontSize: px(26)\n  },\n  '@media (max-width: 1023px)': {\n    display: 'none'\n  }\n}, function (_a) {\n  var _b;\n\n  var style = _a.style;\n  return {\n    '> button': {\n      color: style.c\n    },\n    '> div': (_b = {\n      backgroundColor: style.bgColor,\n      boxShadow: style.altColor ? \"1px 1px 10px \".concat(style.altColor) : 'none'\n    }, _b[style.p] = '120%', _b)\n  };\n}, 'VolumeRSWP');\n\nvar Volume =\n/** @class */\nfunction (_super) {\n  __extends(Volume, _super);\n\n  function Volume(props) {\n    var _this = _super.call(this, props) || this;\n\n    Object.defineProperty(_this, \"timeout\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(_this, \"handleClick\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: function () {\n        _this.setState(function (state) {\n          return {\n            isOpen: !state.isOpen\n          };\n        });\n      }\n    });\n    Object.defineProperty(_this, \"handleChangeSlider\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: function (_a) {\n        var y = _a.y;\n        var setVolume = _this.props.setVolume;\n        var volume = Math.round(y) / 100;\n        clearTimeout(_this.timeout);\n        _this.timeout = window.setTimeout(function () {\n          setVolume(volume);\n        }, 250);\n\n        _this.setState({\n          volume: volume\n        });\n      }\n    });\n    Object.defineProperty(_this, \"handleAfterEnd\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: function () {\n        setTimeout(function () {\n          _this.setState({\n            isOpen: false\n          });\n        }, 100);\n      }\n    });\n    _this.state = {\n      isOpen: false,\n      volume: props.volume\n    };\n    return _this;\n  }\n\n  Object.defineProperty(Volume.prototype, \"componentDidUpdate\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (previousProps) {\n      var volumeState = this.state.volume;\n      var volume = this.props.volume;\n\n      if (previousProps.volume !== volume && volume !== volumeState) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          volume: volume\n        });\n      }\n    }\n  });\n  Object.defineProperty(Volume.prototype, \"render\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _a = this.state,\n          isOpen = _a.isOpen,\n          volume = _a.volume;\n      var _b = this.props,\n          playerPosition = _b.playerPosition,\n          _c = _b.styles,\n          altColor = _c.altColor,\n          bgColor = _c.bgColor,\n          color = _c.color,\n          title = _b.title;\n\n      var icon = _jsx(VolumeHigh, {});\n\n      if (volume === 0) {\n        icon = _jsx(VolumeMute, {});\n      } else if (volume <= 0.5) {\n        icon = _jsx(VolumeLow, {});\n      }\n\n      return _jsxs(Wrapper, __assign({\n        style: {\n          altColor: altColor,\n          bgColor: bgColor,\n          c: color,\n          p: playerPosition\n        }\n      }, {\n        children: [isOpen && _jsx(ClickOutside, __assign({\n          onClick: this.handleClick\n        }, {\n          children: _jsx(RangeSlider, {\n            axis: \"y\",\n            className: \"rrs\",\n            onAfterEnd: this.handleAfterEnd,\n            onChange: this.handleChangeSlider,\n            styles: {\n              options: {\n                thumbBorder: \"2px solid \".concat(color),\n                thumbBorderRadius: 12,\n                thumbColor: bgColor,\n                thumbSize: 12,\n                padding: 0,\n                rangeColor: altColor || '#ccc',\n                trackColor: color,\n                width: 6\n              }\n            },\n            y: volume * 100,\n            yMax: 100,\n            yMin: 0\n          })\n        })), _jsx(\"button\", __assign({\n          \"aria-label\": title,\n          onClick: !isOpen ? this.handleClick : undefined,\n          title: title,\n          type: \"button\"\n        }, {\n          children: icon\n        }))]\n      }));\n    }\n  });\n  return Volume;\n}(React.PureComponent);\n\nexport default Volume;","map":{"version":3,"sources":["/Users/antonyarreola/Documents/GitHub/spotify-clone/client/node_modules/react-spotify-web-playback/src/components/Volume.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport RangeSlider, { RangeSliderPosition } from '@gilbarbara/react-range-slider';\n\nimport ClickOutside from './ClickOutside';\nimport VolumeHigh from './icons/VolumeHigh';\nimport VolumeLow from './icons/VolumeLow';\nimport VolumeMute from './icons/VolumeMute';\n\nimport { px, styled } from '../styles';\nimport { StyledProps, StylesOptions } from '../types/common';\n\ninterface Props {\n  playerPosition: string;\n  setVolume: (volume: number) => any;\n  styles: StylesOptions;\n  title: string;\n  volume: number;\n}\n\ninterface State {\n  isOpen: boolean;\n  volume: number;\n}\n\nconst Wrapper = styled('div')(\n  {\n    'pointer-events': 'all',\n    position: 'relative',\n    zIndex: 20,\n\n    '> div': {\n      display: 'flex',\n      flexDirection: 'column',\n      padding: px(12),\n      position: 'absolute',\n      right: `-${px(3)}`,\n    },\n\n    '> button': {\n      fontSize: px(26),\n    },\n\n    '@media (max-width: 1023px)': {\n      display: 'none',\n    },\n  },\n  ({ style }: StyledProps) => ({\n    '> button': {\n      color: style.c,\n    },\n    '> div': {\n      backgroundColor: style.bgColor,\n      boxShadow: style.altColor ? `1px 1px 10px ${style.altColor}` : 'none',\n      [style.p]: '120%',\n    },\n  }),\n  'VolumeRSWP',\n);\n\nexport default class Volume extends React.PureComponent<Props, State> {\n  private timeout: number | undefined;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      isOpen: false,\n      volume: props.volume,\n    };\n  }\n\n  public componentDidUpdate(previousProps: Props) {\n    const { volume: volumeState } = this.state;\n    const { volume } = this.props;\n\n    if (previousProps.volume !== volume && volume !== volumeState) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ volume });\n    }\n  }\n\n  private handleClick = () => {\n    this.setState(state => ({ isOpen: !state.isOpen }));\n  };\n\n  private handleChangeSlider = ({ y }: RangeSliderPosition) => {\n    const { setVolume } = this.props;\n    const volume = Math.round(y) / 100;\n\n    clearTimeout(this.timeout);\n\n    this.timeout = window.setTimeout(() => {\n      setVolume(volume);\n    }, 250);\n\n    this.setState({ volume });\n  };\n\n  private handleAfterEnd = () => {\n    setTimeout(() => {\n      this.setState({ isOpen: false });\n    }, 100);\n  };\n\n  public render() {\n    const { isOpen, volume } = this.state;\n    const {\n      playerPosition,\n      styles: { altColor, bgColor, color },\n      title,\n    } = this.props;\n    let icon = <VolumeHigh />;\n\n    if (volume === 0) {\n      icon = <VolumeMute />;\n    } else if (volume <= 0.5) {\n      icon = <VolumeLow />;\n    }\n\n    return (\n      <Wrapper style={{ altColor, bgColor, c: color, p: playerPosition }}>\n        {isOpen && (\n          <ClickOutside onClick={this.handleClick}>\n            <RangeSlider\n              axis=\"y\"\n              className=\"rrs\"\n              onAfterEnd={this.handleAfterEnd}\n              onChange={this.handleChangeSlider}\n              styles={{\n                options: {\n                  thumbBorder: `2px solid ${color}`,\n                  thumbBorderRadius: 12,\n                  thumbColor: bgColor,\n                  thumbSize: 12,\n                  padding: 0,\n                  rangeColor: altColor || '#ccc',\n                  trackColor: color,\n                  width: 6,\n                },\n              }}\n              y={volume * 100}\n              yMax={100}\n              yMin={0}\n            />\n          </ClickOutside>\n        )}\n        <button\n          aria-label={title}\n          onClick={!isOpen ? this.handleClick : undefined}\n          title={title}\n          type=\"button\"\n        >\n          {icon}\n        </button>\n      </Wrapper>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}