{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nexport default function useAuth(code) {\n  _s();\n\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [refreshToken, setRefreshToken] = useState();\n  const [expiresIn, setExpiresIn] = useState();\n  console.log(\"this is code\", code); //    useEffect(() => {\n  //       axios.post('http://localhost:3001/login',{\n  //           code,\n  //         }).then(res => {\n  //               setAccessToken(res.data.accessToken);\n  //               setRefreshToken(res.data.refreshToken);\n  //               setExpiresIn(res.data.expiresIn);\n  //               window.history.pushState({},null,\"/\")\n  //           }).catch((err) => {\n  //               window.location = '/';\n  //              console.log(err);\n  //           })\n  //    },[code] )\n  //    useEffect(() => {\n  //        if(!refreshToken|| !expiresIn){return}\n  //     const interval = setInterval(( ) =>{\n  //          axios.post('http://localhost:3001/refresh',{\n  //         refreshToken,\n  //       }).then(res => {\n  //             setAccessToken(res.data.accessToken);\n  //             setExpiresIn(res.data.expiresIn);\n  //         }).catch((err) => {\n  //             window.location = '/';\n  //            console.log(err);\n  //         })\n  //     }, (expiresIn - 60) * 1000) \n  //     return () => clearInterval(interval);\n  //    },[refreshToken,expiresIn])\n\n  return accessToken;\n}\n\n_s(useAuth, \"BNyqgudKuRYIqx3qQt4pzM4TGHs=\");","map":{"version":3,"sources":["/Users/antonyarreola/Documents/GitHub/spotify-clone/client/src/useAuth.js"],"names":["React","useState","useEffect","axios","useAuth","code","accessToken","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AAAA;;AACnC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACO,YAAD,EAAcC,eAAd,IAAiCR,QAAQ,EAA/C;AACA,QAAM,CAACS,SAAD,EAAWC,YAAX,IAA2BV,QAAQ,EAAzC;AAEDW,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BR,IAA3B,EALoC,CAMtC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACG,SAAOC,WAAP;AACF;;GAxCuBF,O","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport axios from 'axios';\nexport default function useAuth(code) {\n   const [accessToken, setAccessToken] = useState(\"\");\n   const [refreshToken,setRefreshToken] = useState();\n   const [expiresIn,setExpiresIn] = useState();\n  \n  console.log(\"this is code\",code);\n//    useEffect(() => {\n       \n//       axios.post('http://localhost:3001/login',{\n//           code,\n//         }).then(res => {\n//               setAccessToken(res.data.accessToken);\n//               setRefreshToken(res.data.refreshToken);\n//               setExpiresIn(res.data.expiresIn);\n//               window.history.pushState({},null,\"/\")\n//           }).catch((err) => {\n//               window.location = '/';\n//              console.log(err);\n//           })\n      \n//    },[code] )\n//    useEffect(() => {\n//        if(!refreshToken|| !expiresIn){return}\n//     const interval = setInterval(( ) =>{\n//          axios.post('http://localhost:3001/refresh',{\n//         refreshToken,\n//       }).then(res => {\n//             setAccessToken(res.data.accessToken);\n           \n//             setExpiresIn(res.data.expiresIn);\n            \n//         }).catch((err) => {\n//             window.location = '/';\n//            console.log(err);\n//         })\n//     }, (expiresIn - 60) * 1000) \n//     return () => clearInterval(interval);\n   \n//    },[refreshToken,expiresIn])\n   return accessToken;\n}\n"]},"metadata":{},"sourceType":"module"}